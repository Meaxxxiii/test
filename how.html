<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>วิธีการใช้งาน</title>
    <link rel="icon" href="{{ url_for('static', filename='logo.ico') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

    <div id="slider" class="onboarding-wrapper">
        
        <div class="page">
            <div class="step-card">
                <img src="{{ url_for('static', filename='step1.png') }}" class="step-img">
                <div class="title">1. ค้นหาจุดหมายปลายทาง</div>
                <div class="desc">เลือกสถานที่ที่เมนูแสดง หรือค้นหาสถานที่ที่คุณต้องการไป...</div>
            </div>
            <div class="dots"><span class="dot active"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span></div>
            <div class="btn-area">
                <button class="btn-next btn" onclick="next()">ถัดไป</button>
            </div>
        </div>

        <div class="page">
            <div class="step-card">
                <img src="{{ url_for('static', filename='step2.png') }}" class="step-img">
                <div class="title">2. แสดงเส้นทาง</div>
                <div class="desc">แสดงเส้นทางไปยังเป้าหมายของคุณ</div>
            </div>
            <div class="dots"><span class="dot"></span><span class="dot active"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span></div>
            <div class="btn-area">
                <button class="btn-back btn" onclick="back()">ย้อนกลับ</button>
                <button class="btn-next btn" onclick="next()">ถัดไป</button>
            </div>
        </div>

        <div class="page">
             <div class="step-card">
                <img src="{{ url_for('static', filename='step3.png') }}" class="step-img">
                <div class="title">3. แสดงแผนผังอาคารที่เป้าหมายคุณจะไป</div>
                <div class="desc">หากสถานที่ที่คุณจะไปอยู่อาคาร 1 ระบบจะแสดงเส้นทางในทันที หากเป็นอาคารอื่น จะแสดงเส้นทางไปยังอาคารนั้นๆก่อน</div>
            </div>
            <div class="dots"><span class="dot"></span><span class="dot"></span><span class="dot active"></span><span class="dot"></span><span class="dot"></span></div>
            <div class="btn-area">
                <button class="btn-back btn" onclick="back()">ย้อนกลับ</button>
                <button class="btn-next btn" onclick="next()">ถัดไป</button>
            </div>
        </div>
        
        <div class="page">
             <div class="step-card">
                <img src="{{ url_for('static', filename='step4.png') }}" class="step-img">
                <div class="title">4. กด Next เมื่อไปถึงเป้าหมายแต่ละจุด</div>
                <div class="desc">เมื่อเดินทางไปทีละเป้าหมาย กด "Next" ไปเรื่อยๆ จนกว่าจะถึงที่หมาย</div>
            </div>
            <div class="dots"><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot active"></span><span class="dot"></span></div>
            <div class="btn-area">
                <button class="btn-back btn" onclick="back()">ย้อนกลับ</button>
                <button class="btn-next btn" onclick="next()">ถัดไป</button>
            </div>
        </div>

        <div class="page">
             <div class="step-card">
                <img src="{{ url_for('static', filename='step5.png') }}" class="step-img">
                <div class="title">5. ถึงจุดเป้าหมาย</div>
                <div class="desc">หากถึงจุดเป้าหมาย สามารถคลิก "ถึงจุดเป้าหมายแล้ว" หากยังไม่ถึงสามารถไปยังจุดเริ่มต้น เพื่อเริ่มเดินทางใหม่</div>
            </div>
            <div class="dots"><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot active"></span></div>
            <div class="btn-area">
                <button class="btn-back btn" onclick="back()">ย้อนกลับ</button>
                <a href="/menu" class="btn btn-finish">ต่อไป</a>
            </div>
        </div>

    </div>

    <script>
        let current = 0;
        const totalPages = 5; // ตั้งค่าจำนวนหน้า
        const slider = document.getElementById("slider");
        const dots = document.querySelectorAll('.dots');
        
        function updateSlider() {
            // เลื่อน slider ด้วยการใช้ transform
            slider.style.transform = "translateX(" + (-current * 100) + "vw)";

            // อัพเดท active dot และปุ่ม
            updateDots();
            updateButtons(); 
        }

        function updateDots() {
            // ลบ active class ออกจากทุก dot ในทุกหน้า
            document.querySelectorAll('.dot').forEach(d => d.classList.remove('active'));
            // กำหนด active class ให้ dot ที่ถูกต้องในหน้าปัจจุบัน
            dots[current].children[current].classList.add('active');
        }

        function updateButtons() {
            // ซ่อน/แสดงปุ่มย้อนกลับ
            const backButtons = document.querySelectorAll('.btn-back');
            backButtons.forEach(btn => {
                if (current === 0) {
                    btn.style.display = 'none';
                } else {
                    btn.style.display = 'inline-block';
                }
            });

            // ซ่อนปุ่ม 'ถัดไป' ในหน้าสุดท้าย (ถ้ามีการแก้ไขโค้ด HTML ให้ปุ่มเสร็จสิ้นมาแทน)
            // สำหรับโค้ดนี้ ไม่จำเป็นต้องซ่อน เพราะ HTML ถูกจัดให้ปุ่ม 'เสร็จสิ้น' มาแทนที่แล้วใน PAGE 5
        }

        function next() {
            if (current < totalPages - 1) {
                current++;
                updateSlider();
            }
        }

        function back() {
            if (current > 0) {
                current--;
                updateSlider();
            }
        }
        
        // รันครั้งแรกเมื่อโหลดหน้า
        document.addEventListener('DOMContentLoaded', updateSlider);
    </script>

</body>
</html>
